---
import HeaderLink from "./HeaderLink.astro";
import Logo from "./Logo.astro";
import Icons from "./Icons.astro";
---

<header class="py-4 fixed top-0 w-full z-20 nav">
  <nav>
    <div class="container container-large">
      <div class="padding-global">
        <div class="nav-content w-full flex justify-between items-center">
          <div><a href="/"><Logo /></a></div>

          <div
            class="bg-slate-900 px-8 rounded-full flex items-center gap-4 h-16 drop-shadow-[0px_0px_5px_rgba(255,255,255,0.75)]"
          >
            <div class="flex items-center gap-4 max-h-[10px]">
              <HeaderLink href="/">Home</HeaderLink>
              <HeaderLink href="/#portfolio">Portfolio</HeaderLink>
              <HeaderLink href="/blog">Blog</HeaderLink>
              <HeaderLink href="/contact">Contact</HeaderLink>
            </div>
          </div>
          <Icons />
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="h-24"></div>

<style>
  header {
    background-color: rgba(0, 0, 0, 0); /* Initially transparent */
    transition: background-color 0.3s; /* Smooth transition for background color */
    border-bottom: 1px solid rgba(255, 255, 255, 0); /* Transparent white border */
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
  }
  h2 {
    margin: 0;
    font-size: 1em;
  }

  h2 a,
  h2 a.active {
    text-decoration: none;
  }
  nav a {
    padding: 0.5em 1em;
  }

  @media (max-width: 720px) {
    .social-links {
      display: none;
    }
  }
</style>

<script>
  const header = document.querySelector("header");

  window.addEventListener("scroll", () => {
    const scrollPosition = window.scrollY;
    const opacity = Math.min(scrollPosition / 250, 1);
    if (header) {
      header.style.backgroundColor = `rgba(0, 0, 0, ${opacity})`;
      header.style.borderColor = `rgba(255, 255, 255, ${opacity})`;
    }
  });
</script>
