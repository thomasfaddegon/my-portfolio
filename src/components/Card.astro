---
import H3 from "../components/H3.astro";
import { Image } from "astro:assets";
import gradientBackground from "../images/backgrounds/gradient-2000.png";
import { getImage } from "astro:assets";

const { header, title, text, icon, link, classes, rounded } = Astro.props as {
  header: string;
  title: string;
  text: string;
  icon: any;
  link?: string;
  classes?: string;
  rounded?: boolean;
};

const optimizedBackground = await getImage({
  src: gradientBackground,
});

const imageRounded = rounded ? "rounded-full" : "rounded-xl";
---

<div class=` h-full ${
  classes ?? ""
}`>
  <a href={link} class="h-full">
    <div class="h-full">
      <div
        class="card px-4 pt-6 pb-10 flex flex-col items-center border-2 bg-slate-900 drop-shadow-[0px_0px_3px_rgba(255,255,255,0.75)] h-full"
      >
        <div class=`max-w-36 flex mb-4 ${imageRounded} overflow-hidden`>
          <Image src={icon} alt="icon" width="300" height="250" />
        </div>
        <div>
          <H3 header={header} />
          <!-- <h3>{header}</h3> -->
        </div>
        <div class="mb-2">
          <span class="text-base">{title}</span>
        </div>
        <span class="text-center"><p class="mb-[-4px]">{text}</p></span>
      </div>
    </div>
  </a>
</div>

<style>
  .image {
  }
  .card {
    position: relative;
    border-radius: 15px;
    z-index: 1;
  }

  .card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.2);
    pointer-events: none;
    z-index: -1;
  }

  .card p,
  h3 {
    position: relative;
    z-index: 2;
  }
</style>
